<section class="mt-4 box">
  <div class="container">
    <div class="rounded-3 border shadow-lg bg-white">
      <div class="row p-4 pb-0">
        <div class="col-lg-6 float-start">
          <h1 class="title">Nos formations</h1>
        </div>
        <div class="col-lg-6 d-flex align-items-center justify-content-around">
          <a class="btn btn-sm btn-outline-info">
            <i class="fas fa-plus-circle"></i> Ajouter une formation
          </a>
          <div class="dropdown">
            <button class="btn btn-sm btn-outline-info dropdown-toggle" type="button" id="dropdownDisplayChange" data-bs-toggle="dropdown" aria-expanded="false">
              Modifier l'affichage
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownDisplayChange">
              <li><a (click)="changeDataView($event)" class="dropdown-item">Tableau</a></li>
              <li><a (click)="changeDataView($event)" class="dropdown-item">Card</a></li>
            </ul>
          </div>
          <div class="dropdown">
            <button class="btn btn-sm btn-outline-info dropdown-toggle" type="button" id="filterByCategory" data-bs-toggle="dropdown" aria-expanded="false">
              Filtrer par
            </button>
            <ul class="dropdown-menu" aria-labelledby="filterByCategory">
              <li><a class="dropdown-item">Tableau</a></li>
              <li><a class="dropdown-item">Cards</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div *ngIf="dataViewType == 'card'; then blocThen; else blocElse"></div>
    </div>
  </div>
</section>

<ng-template #blocThen>
  <div class="row p-4 pb-0">
    <div class="col-lg-4">
      <div class="card mb-2">
        <div class="card-header d-flex align-items-center justify-content-around">
          <h3 class="me-5">Categorie</h3>
          <div class="btn-group ms-5">
            <a class="btn btn-sm btn-info me-2" data-bs-toggle="tooltip" data-bs-placement="top" title="Detail">
              <i class="fas fa-eye"></i>
            </a>
            <a class="btn btn-sm btn-success me-2" data-bs-toggle="tooltip" data-bs-placement="top" title="Modifier">
              <i class="fas fa-edit"></i>
            </a>
            <button class="btn btn-sm btn-danger" data-bs-toggle="tooltip" data-bs-placement="top" title="Supprimer">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </div>
        <div class="card-body">
          <h5 class="card-title">Special title treatment</h5>
          <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
          <a href="#" class="btn btn-primary">Go somewhere</a>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #blocElse>
  <div class="row p-4 pb-0">
    <div class="col-12">
      <table class="table table-hover table-bordered">
        <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Formation</th>
          <th>Date</th>
          <th>Dur√©e</th>
          <th>Prix</th>
          <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let formation of formations">
          <td>{{ formation.id }}</td>
          <td>{{ formation.name }}</td>
          <td>{{ formation.date }}</td>
          <td>{{ formation.duration }}</td>
          <td>{{ formation.price }}</td>
          <td>
            <a class="btn btn-sm btn-info me-2">
              <i class="fas fa-eye"></i> Details
            </a>
            <a class="btn btn-sm btn-success me-2">
              <i class="fas fa-edit"></i> Modification
            </a>
            <button class="btn btn-sm btn-danger">
              <i class="fas fa-trash"></i> Supprimer
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</ng-template>
